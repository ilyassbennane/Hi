{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ILYASS BENNANE\\\\Desktop\\\\MERN\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst googleMapsApiKey = \"AIzaSyDnH1CSsDOQz5BKD2forEe9oFpNQKgTFwA\";\nexport default function App() {\n  _s();\n  const [restaurants, setRestaurants] = useState([]);\n  const [selectedCity, setSelectedCity] = useState(\"\");\n  const [selectedRestaurant, setSelectedRestaurant] = useState(\"\");\n  const [map, setMap] = useState(null);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/restaurants\").then(res => {\n      setRestaurants(res.data);\n    });\n  }, []);\n  const handleCitySelect = event => {\n    setSelectedCity(event.target.value);\n  };\n  const handleRestaurantSelect = event => {\n    setSelectedRestaurant(event.target.value);\n  };\n  useEffect(() => {\n    if (selectedCity) {\n      Axios.get(`http://localhost:3001/restaurants/${selectedCity}`).then(res => {\n        setRestaurants(res.data);\n      });\n    }\n  }, [selectedCity]);\n  useEffect(() => {\n    const loadGoogleMapsScript = () => {\n      const script = document.createElement(\"script\");\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${googleMapsApiKey}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => {\n        initMap();\n      };\n      document.body.appendChild(script);\n    };\n    const initMap = () => {\n      const map = new window.google.maps.Map(document.getElementById(\"map\"), {\n        center: {\n          lat: 37.7749,\n          lng: -122.4194\n        },\n        zoom: 12\n      });\n      setMap(map);\n    };\n    if (!window.google) {\n      loadGoogleMapsScript();\n    } else {\n      initMap();\n    }\n  }, []);\n  useEffect(() => {\n    if (map && selectedRestaurant) {\n      // Get the restaurant's location from the database\n      Axios.get(`http://localhost:3001/restaurants/${selectedRestaurant}`).then(res => {\n        const restaurantLocation = res.data.location;\n\n        // Create a marker for the restaurant's location\n        const marker = new window.google.maps.Marker({\n          position: {\n            lat: restaurantLocation.lat,\n            lng: restaurantLocation.lng\n          },\n          map: map,\n          title: \"Selected Restaurant\"\n        });\n\n        // Center the map on the restaurant's location\n        map.panTo({\n          lat: restaurantLocation.lat,\n          lng: restaurantLocation.lng\n        });\n      });\n    }\n  }, [map, selectedRestaurant]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedCity,\n      onChange: handleCitySelect,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a city\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Casablanca\",\n        children: \"Casablanca\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Tanger\",\n        children: \"Tanger\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"El Jadida\",\n        children: \"El jadida\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedRestaurant,\n      onChange: handleRestaurantSelect,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a restaurant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), restaurants.map(restaurant => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: restaurant.id,\n        children: restaurant.title\n      }, restaurant.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\",\n      style: {\n        height: \"500px\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"AXYwVepb7NETSni1NN6KxceRIiI=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Axios","jsxDEV","_jsxDEV","Fragment","_Fragment","googleMapsApiKey","App","_s","restaurants","setRestaurants","selectedCity","setSelectedCity","selectedRestaurant","setSelectedRestaurant","map","setMap","get","then","res","data","handleCitySelect","event","target","value","handleRestaurantSelect","loadGoogleMapsScript","script","document","createElement","src","async","defer","onload","initMap","body","appendChild","window","google","maps","Map","getElementById","center","lat","lng","zoom","restaurantLocation","location","marker","Marker","position","title","panTo","children","onChange","fileName","_jsxFileName","lineNumber","columnNumber","restaurant","id","style","height","width","_c","$RefreshReg$"],"sources":["C:/Users/ILYASS BENNANE/Desktop/MERN/client/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\n\nconst googleMapsApiKey = \"AIzaSyDnH1CSsDOQz5BKD2forEe9oFpNQKgTFwA\";\n\nexport default function App() {\n  const [restaurants, setRestaurants] = useState([]);\n  const [selectedCity, setSelectedCity] = useState(\"\");\n  const [selectedRestaurant, setSelectedRestaurant] = useState(\"\");\n  const [map, setMap] = useState(null);\n\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/restaurants\").then((res) => {\n      setRestaurants(res.data);\n    });\n  }, []);\n\n  const handleCitySelect = (event) => {\n    setSelectedCity(event.target.value);\n  };\n\n  const handleRestaurantSelect = (event) => {\n    setSelectedRestaurant(event.target.value);\n  };\n\n  useEffect(() => {\n    if (selectedCity) {\n      Axios.get(`http://localhost:3001/restaurants/${selectedCity}`).then(\n        (res) => {\n          setRestaurants(res.data);\n        }\n      );\n    }\n  }, [selectedCity]);\n\n  useEffect(() => {\n    const loadGoogleMapsScript = () => {\n      const script = document.createElement(\"script\");\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${googleMapsApiKey}&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      script.onload = () => {\n        initMap();\n      };\n      document.body.appendChild(script);\n    };\n\n    const initMap = () => {\n      const map = new window.google.maps.Map(document.getElementById(\"map\"), {\n        center: { lat: 37.7749, lng: -122.4194 },\n        zoom: 12,\n      });\n      setMap(map);\n    };\n\n    if (!window.google) {\n      loadGoogleMapsScript();\n    } else {\n      initMap();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (map && selectedRestaurant) {\n      // Get the restaurant's location from the database\n      Axios.get(`http://localhost:3001/restaurants/${selectedRestaurant}`).then(\n        (res) => {\n          const restaurantLocation = res.data.location;\n\n          // Create a marker for the restaurant's location\n          const marker = new window.google.maps.Marker({\n            position: { lat: restaurantLocation.lat, lng: restaurantLocation.lng },\n            map: map,\n            title: \"Selected Restaurant\",\n          });\n\n          // Center the map on the restaurant's location\n          map.panTo({ lat: restaurantLocation.lat, lng: restaurantLocation.lng });\n        }\n      );\n    }\n  }, [map, selectedRestaurant]);\n\n  return (\n    <>\n      <select value={selectedCity} onChange={handleCitySelect}>\n        <option value=\"\">Select a city</option>\n        <option value=\"Casablanca\">Casablanca</option>\n        <option value=\"Tanger\">Tanger</option>\n        <option value=\"El Jadida\">El jadida</option>\n        {/* add more cities as needed */}\n      </select>\n\n      <select value={selectedRestaurant} onChange={handleRestaurantSelect}>\n        <option value=\"\">Select a restaurant</option>\n        {restaurants.map((restaurant) => (\n          <option value={restaurant.id} key={restaurant.id}>\n            {restaurant.title}\n          </option>\n        ))}\n      </select>\n\n      <div id=\"map\" style={{ height: \"500px\", width: \"100%\" }}></div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}